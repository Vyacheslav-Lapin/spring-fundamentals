import com.epam.trainings.spring.ioc.MessageGenerator;import ioc.java.JavaConfig;import org.junit.jupiter.api.Test;import org.junit.jupiter.api.extension.ExtendWith;import org.springframework.beans.BeansException;import org.springframework.beans.factory.BeanFactory;import org.springframework.context.ApplicationContext;import org.springframework.context.ApplicationContextAware;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit.jupiter.SpringExtension;import java.util.function.BooleanSupplier;import static java.lang.System.currentTimeMillis;import static java.lang.System.out;import static java.lang.Thread.sleep;/** * @author Vyacheslav * @version 0.1 (02.04.2015). */@ExtendWith(SpringExtension.class)//@ContextConfiguration("/AppConfig.groovy")@ContextConfiguration(classes = JavaConfig.class)public class MessageGeneratorTest implements ApplicationContextAware {    private BeanFactory beanFactory;    @Override    public void setApplicationContext(ApplicationContext context) throws BeansException {        beanFactory = context;    }    @Test    void testGetMessageOnXmlConfigWithGroovyBean() throws Exception {        testProcess(                () -> p(beanFactory.getBean("groovyHelloMessageGenerator", MessageGenerator.class)                        .getMessage())                        .equals("Hello, Фёдор Владимирович Емельяненко!"),                1_000);    }    private static void testProcess(BooleanSupplier supplier, int delay) throws InterruptedException {        while (!supplier.getAsBoolean())            sleep(delay);    }    private static String p(String s) {        out.println(currentTimeMillis() + ": " + s);        return s;    }}